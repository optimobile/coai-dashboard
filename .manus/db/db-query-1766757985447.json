{
  "query": "CREATE TABLE IF NOT EXISTS `compliance_reports` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `organizationId` int,\n  `reportType` enum('compliance_summary','audit_history','enforcement_timeline','risk_analysis','certification_status') NOT NULL,\n  `jurisdiction` varchar(50) NOT NULL,\n  `title` varchar(255) NOT NULL,\n  `description` text,\n  `data` json NOT NULL,\n  `generatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `exportFormat` enum('pdf','excel','json') NOT NULL DEFAULT 'pdf',\n  `fileUrl` varchar(500),\n  `isScheduled` tinyint DEFAULT 0,\n  `scheduleFrequency` enum('daily','weekly','monthly','quarterly','annually'),\n  `nextScheduledDate` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_userId_reports` (`userId`),\n  KEY `idx_organizationId_reports` (`organizationId`),\n  KEY `idx_jurisdiction` (`jurisdiction`),\n  KEY `idx_createdAt_reports` (`createdAt`)\n);\n\nCREATE TABLE IF NOT EXISTS `compliance_rules` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `jurisdiction` varchar(50) NOT NULL,\n  `framework` varchar(100) NOT NULL,\n  `ruleCode` varchar(50) NOT NULL,\n  `title` varchar(255) NOT NULL,\n  `description` text,\n  `requirement` text NOT NULL,\n  `severity` enum('info','warning','critical') NOT NULL DEFAULT 'info',\n  `category` varchar(100) NOT NULL,\n  `applicableToRiskLevel` enum('minimal','low','medium','high','prohibited') NOT NULL,\n  `implementationGuidance` text,\n  `evidenceRequired` json,\n  `version` int DEFAULT 1,\n  `isActive` tinyint DEFAULT 1,\n  `effectiveDate` timestamp,\n  `deprecatedDate` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `unique_rule` (`jurisdiction`, `framework`, `ruleCode`),\n  KEY `idx_jurisdiction_rules` (`jurisdiction`),\n  KEY `idx_framework` (`framework`),\n  KEY `idx_category` (`category`),\n  KEY `idx_isActive` (`isActive`)\n);\n\nCREATE TABLE IF NOT EXISTS `rule_updates` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `ruleId` int NOT NULL,\n  `changeType` enum('created','updated','deprecated','activated','deactivated') NOT NULL,\n  `previousValue` json,\n  `newValue` json,\n  `changeReason` text,\n  `changedBy` int,\n  `notificationSent` tinyint DEFAULT 0,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_ruleId_updates` (`ruleId`),\n  KEY `idx_changeType` (`changeType`),\n  KEY `idx_createdAt_updates` (`createdAt`),\n  FOREIGN KEY (`ruleId`) REFERENCES `compliance_rules`(`id`) ON DELETE CASCADE\n);\n\nCREATE TABLE IF NOT EXISTS `admin_metrics` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `metricType` enum('websocket_connections','event_throughput','system_health','latency','error_rate') NOT NULL,\n  `value` decimal(10, 2) NOT NULL,\n  `metadata` json,\n  `recordedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_metricType_time` (`metricType`, `recordedAt`),\n  KEY `idx_recordedAt` (`recordedAt`)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3VC7xi4RHX81jG7.65112bc774d1 --database K34VNBtbDJyjtW8qhrCBdB --execute CREATE TABLE IF NOT EXISTS `compliance_reports` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `organizationId` int,\n  `reportType` enum('compliance_summary','audit_history','enforcement_timeline','risk_analysis','certification_status') NOT NULL,\n  `jurisdiction` varchar(50) NOT NULL,\n  `title` varchar(255) NOT NULL,\n  `description` text,\n  `data` json NOT NULL,\n  `generatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `exportFormat` enum('pdf','excel','json') NOT NULL DEFAULT 'pdf',\n  `fileUrl` varchar(500),\n  `isScheduled` tinyint DEFAULT 0,\n  `scheduleFrequency` enum('daily','weekly','monthly','quarterly','annually'),\n  `nextScheduledDate` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_userId_reports` (`userId`),\n  KEY `idx_organizationId_reports` (`organizationId`),\n  KEY `idx_jurisdiction` (`jurisdiction`),\n  KEY `idx_createdAt_reports` (`createdAt`)\n);\n\nCREATE TABLE IF NOT EXISTS `compliance_rules` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `jurisdiction` varchar(50) NOT NULL,\n  `framework` varchar(100) NOT NULL,\n  `ruleCode` varchar(50) NOT NULL,\n  `title` varchar(255) NOT NULL,\n  `description` text,\n  `requirement` text NOT NULL,\n  `severity` enum('info','warning','critical') NOT NULL DEFAULT 'info',\n  `category` varchar(100) NOT NULL,\n  `applicableToRiskLevel` enum('minimal','low','medium','high','prohibited') NOT NULL,\n  `implementationGuidance` text,\n  `evidenceRequired` json,\n  `version` int DEFAULT 1,\n  `isActive` tinyint DEFAULT 1,\n  `effectiveDate` timestamp,\n  `deprecatedDate` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `unique_rule` (`jurisdiction`, `framework`, `ruleCode`),\n  KEY `idx_jurisdiction_rules` (`jurisdiction`),\n  KEY `idx_framework` (`framework`),\n  KEY `idx_category` (`category`),\n  KEY `idx_isActive` (`isActive`)\n);\n\nCREATE TABLE IF NOT EXISTS `rule_updates` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `ruleId` int NOT NULL,\n  `changeType` enum('created','updated','deprecated','activated','deactivated') NOT NULL,\n  `previousValue` json,\n  `newValue` json,\n  `changeReason` text,\n  `changedBy` int,\n  `notificationSent` tinyint DEFAULT 0,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_ruleId_updates` (`ruleId`),\n  KEY `idx_changeType` (`changeType`),\n  KEY `idx_createdAt_updates` (`createdAt`),\n  FOREIGN KEY (`ruleId`) REFERENCES `compliance_rules`(`id`) ON DELETE CASCADE\n);\n\nCREATE TABLE IF NOT EXISTS `admin_metrics` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `metricType` enum('websocket_connections','event_throughput','system_health','latency','error_rate') NOT NULL,\n  `value` decimal(10, 2) NOT NULL,\n  `metadata` json,\n  `recordedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_metricType_time` (`metricType`, `recordedAt`),\n  KEY `idx_recordedAt` (`recordedAt`)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2342
}