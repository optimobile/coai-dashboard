{
  "query": "CREATE TABLE IF NOT EXISTS workflow_metrics (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  workflowId INT NOT NULL,\n  date VARCHAR(10) NOT NULL,\n  totalExecutions INT DEFAULT 0 NOT NULL,\n  successfulExecutions INT DEFAULT 0 NOT NULL,\n  failedExecutions INT DEFAULT 0 NOT NULL,\n  avgExecutionTimeSeconds DECIMAL(10, 2),\n  totalEmailsSent INT DEFAULT 0 NOT NULL,\n  totalEmailsDelivered INT DEFAULT 0 NOT NULL,\n  totalEmailsOpened INT DEFAULT 0 NOT NULL,\n  totalEmailsClicked INT DEFAULT 0 NOT NULL,\n  totalEmailsBounced INT DEFAULT 0 NOT NULL,\n  deliveryRate DECIMAL(5, 2),\n  openRate DECIMAL(5, 2),\n  clickRate DECIMAL(5, 2),\n  bounceRate DECIMAL(5, 2),\n  conversionCount INT DEFAULT 0 NOT NULL,\n  conversionRate DECIMAL(5, 2),\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_workflowId (workflowId),\n  INDEX idx_date (date),\n  INDEX idx_workflowId_date (workflowId, date)\n);\n\nCREATE TABLE IF NOT EXISTS email_engagement (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  workflowId INT NOT NULL,\n  emailTemplate VARCHAR(100) NOT NULL,\n  date VARCHAR(10) NOT NULL,\n  totalSent INT DEFAULT 0 NOT NULL,\n  totalDelivered INT DEFAULT 0 NOT NULL,\n  totalOpened INT DEFAULT 0 NOT NULL,\n  totalClicked INT DEFAULT 0 NOT NULL,\n  totalBounced INT DEFAULT 0 NOT NULL,\n  uniqueOpens INT DEFAULT 0 NOT NULL,\n  uniqueClicks INT DEFAULT 0 NOT NULL,\n  avgTimeToOpen INT,\n  avgTimeToClick INT,\n  topClickedLinks JSON,\n  deviceBreakdown JSON,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_workflowId (workflowId),\n  INDEX idx_emailTemplate (emailTemplate),\n  INDEX idx_date (date)\n);\n\nCREATE TABLE IF NOT EXISTS ab_test_results (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  workflowId INT NOT NULL,\n  testName VARCHAR(255) NOT NULL,\n  variantA VARCHAR(100) NOT NULL,\n  variantB VARCHAR(100) NOT NULL,\n  startDate TIMESTAMP NOT NULL,\n  endDate TIMESTAMP,\n  status ENUM('running', 'completed', 'paused') DEFAULT 'running' NOT NULL,\n  variantASent INT DEFAULT 0 NOT NULL,\n  variantAOpened INT DEFAULT 0 NOT NULL,\n  variantAClicked INT DEFAULT 0 NOT NULL,\n  variantAConverted INT DEFAULT 0 NOT NULL,\n  variantAOpenRate DECIMAL(5, 2),\n  variantAClickRate DECIMAL(5, 2),\n  variantAConversionRate DECIMAL(5, 2),\n  variantBSent INT DEFAULT 0 NOT NULL,\n  variantBOpened INT DEFAULT 0 NOT NULL,\n  variantBClicked INT DEFAULT 0 NOT NULL,\n  variantBConverted INT DEFAULT 0 NOT NULL,\n  variantBOpenRate DECIMAL(5, 2),\n  variantBClickRate DECIMAL(5, 2),\n  variantBConversionRate DECIMAL(5, 2),\n  confidenceLevel DECIMAL(5, 2),\n  pValue DECIMAL(10, 8),\n  winner ENUM('variant_a', 'variant_b', 'no_winner'),\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_workflowId (workflowId),\n  INDEX idx_status (status)\n);\n\nCREATE TABLE IF NOT EXISTS workflow_conversions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  workflowId INT NOT NULL,\n  executionId INT NOT NULL,\n  userId INT NOT NULL,\n  conversionType ENUM('enrollment', 'completion', 'purchase', 'signup', 'custom') NOT NULL,\n  conversionValue DECIMAL(10, 2),\n  metadata JSON,\n  convertedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_workflowId (workflowId),\n  INDEX idx_executionId (executionId),\n  INDEX idx_userId (userId),\n  INDEX idx_conversionType (conversionType)\n)",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3VC7xi4RHX81jG7.65112bc774d1 --database K34VNBtbDJyjtW8qhrCBdB --execute CREATE TABLE IF NOT EXISTS workflow_metrics (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  workflowId INT NOT NULL,\n  date VARCHAR(10) NOT NULL,\n  totalExecutions INT DEFAULT 0 NOT NULL,\n  successfulExecutions INT DEFAULT 0 NOT NULL,\n  failedExecutions INT DEFAULT 0 NOT NULL,\n  avgExecutionTimeSeconds DECIMAL(10, 2),\n  totalEmailsSent INT DEFAULT 0 NOT NULL,\n  totalEmailsDelivered INT DEFAULT 0 NOT NULL,\n  totalEmailsOpened INT DEFAULT 0 NOT NULL,\n  totalEmailsClicked INT DEFAULT 0 NOT NULL,\n  totalEmailsBounced INT DEFAULT 0 NOT NULL,\n  deliveryRate DECIMAL(5, 2),\n  openRate DECIMAL(5, 2),\n  clickRate DECIMAL(5, 2),\n  bounceRate DECIMAL(5, 2),\n  conversionCount INT DEFAULT 0 NOT NULL,\n  conversionRate DECIMAL(5, 2),\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_workflowId (workflowId),\n  INDEX idx_date (date),\n  INDEX idx_workflowId_date (workflowId, date)\n);\n\nCREATE TABLE IF NOT EXISTS email_engagement (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  workflowId INT NOT NULL,\n  emailTemplate VARCHAR(100) NOT NULL,\n  date VARCHAR(10) NOT NULL,\n  totalSent INT DEFAULT 0 NOT NULL,\n  totalDelivered INT DEFAULT 0 NOT NULL,\n  totalOpened INT DEFAULT 0 NOT NULL,\n  totalClicked INT DEFAULT 0 NOT NULL,\n  totalBounced INT DEFAULT 0 NOT NULL,\n  uniqueOpens INT DEFAULT 0 NOT NULL,\n  uniqueClicks INT DEFAULT 0 NOT NULL,\n  avgTimeToOpen INT,\n  avgTimeToClick INT,\n  topClickedLinks JSON,\n  deviceBreakdown JSON,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_workflowId (workflowId),\n  INDEX idx_emailTemplate (emailTemplate),\n  INDEX idx_date (date)\n);\n\nCREATE TABLE IF NOT EXISTS ab_test_results (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  workflowId INT NOT NULL,\n  testName VARCHAR(255) NOT NULL,\n  variantA VARCHAR(100) NOT NULL,\n  variantB VARCHAR(100) NOT NULL,\n  startDate TIMESTAMP NOT NULL,\n  endDate TIMESTAMP,\n  status ENUM('running', 'completed', 'paused') DEFAULT 'running' NOT NULL,\n  variantASent INT DEFAULT 0 NOT NULL,\n  variantAOpened INT DEFAULT 0 NOT NULL,\n  variantAClicked INT DEFAULT 0 NOT NULL,\n  variantAConverted INT DEFAULT 0 NOT NULL,\n  variantAOpenRate DECIMAL(5, 2),\n  variantAClickRate DECIMAL(5, 2),\n  variantAConversionRate DECIMAL(5, 2),\n  variantBSent INT DEFAULT 0 NOT NULL,\n  variantBOpened INT DEFAULT 0 NOT NULL,\n  variantBClicked INT DEFAULT 0 NOT NULL,\n  variantBConverted INT DEFAULT 0 NOT NULL,\n  variantBOpenRate DECIMAL(5, 2),\n  variantBClickRate DECIMAL(5, 2),\n  variantBConversionRate DECIMAL(5, 2),\n  confidenceLevel DECIMAL(5, 2),\n  pValue DECIMAL(10, 8),\n  winner ENUM('variant_a', 'variant_b', 'no_winner'),\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_workflowId (workflowId),\n  INDEX idx_status (status)\n);\n\nCREATE TABLE IF NOT EXISTS workflow_conversions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  workflowId INT NOT NULL,\n  executionId INT NOT NULL,\n  userId INT NOT NULL,\n  conversionType ENUM('enrollment', 'completion', 'purchase', 'signup', 'custom') NOT NULL,\n  conversionValue DECIMAL(10, 2),\n  metadata JSON,\n  convertedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_workflowId (workflowId),\n  INDEX idx_executionId (executionId),\n  INDEX idx_userId (userId),\n  INDEX idx_conversionType (conversionType)\n)",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2690
}