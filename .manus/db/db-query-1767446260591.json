{
  "query": "CREATE TABLE IF NOT EXISTS workflow_schedules (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  workflowId INT NOT NULL,\n  userId INT NOT NULL,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  scheduleType ENUM('cron', 'interval', 'conditional') NOT NULL,\n  cronExpression VARCHAR(100),\n  timezone VARCHAR(50) DEFAULT 'UTC' NOT NULL,\n  intervalValue INT,\n  intervalUnit ENUM('minutes', 'hours', 'days', 'weeks', 'months'),\n  conditions JSON,\n  targetFilters JSON,\n  isActive BOOLEAN DEFAULT TRUE NOT NULL,\n  startDate TIMESTAMP,\n  endDate TIMESTAMP,\n  maxExecutions INT,\n  executionCount INT DEFAULT 0 NOT NULL,\n  lastExecutedAt TIMESTAMP,\n  nextExecutionAt TIMESTAMP,\n  lastExecutionStatus ENUM('success', 'failed', 'partial'),\n  lastExecutionError TEXT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_workflowId (workflowId),\n  INDEX idx_userId (userId),\n  INDEX idx_isActive (isActive),\n  INDEX idx_nextExecutionAt (nextExecutionAt),\n  INDEX idx_scheduleType (scheduleType)\n);\n\nCREATE TABLE IF NOT EXISTS schedule_execution_history (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  scheduleId INT NOT NULL,\n  workflowId INT NOT NULL,\n  executionId INT,\n  scheduledFor TIMESTAMP NOT NULL,\n  actualExecutionTime TIMESTAMP NOT NULL,\n  status ENUM('success', 'failed', 'skipped', 'partial') NOT NULL,\n  targetUserCount INT DEFAULT 0 NOT NULL,\n  successfulCount INT DEFAULT 0 NOT NULL,\n  failedCount INT DEFAULT 0 NOT NULL,\n  duration INT,\n  errorMessage TEXT,\n  metadata JSON,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_scheduleId (scheduleId),\n  INDEX idx_workflowId (workflowId),\n  INDEX idx_scheduledFor (scheduledFor),\n  INDEX idx_status (status)\n);\n\nCREATE TABLE IF NOT EXISTS schedule_status_log (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  scheduleId INT NOT NULL,\n  action ENUM('created', 'activated', 'paused', 'resumed', 'deleted', 'completed') NOT NULL,\n  reason TEXT,\n  performedBy INT,\n  timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_scheduleId (scheduleId),\n  INDEX idx_action (action)\n)",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3VC7xi4RHX81jG7.65112bc774d1 --database K34VNBtbDJyjtW8qhrCBdB --execute CREATE TABLE IF NOT EXISTS workflow_schedules (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  workflowId INT NOT NULL,\n  userId INT NOT NULL,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  scheduleType ENUM('cron', 'interval', 'conditional') NOT NULL,\n  cronExpression VARCHAR(100),\n  timezone VARCHAR(50) DEFAULT 'UTC' NOT NULL,\n  intervalValue INT,\n  intervalUnit ENUM('minutes', 'hours', 'days', 'weeks', 'months'),\n  conditions JSON,\n  targetFilters JSON,\n  isActive BOOLEAN DEFAULT TRUE NOT NULL,\n  startDate TIMESTAMP,\n  endDate TIMESTAMP,\n  maxExecutions INT,\n  executionCount INT DEFAULT 0 NOT NULL,\n  lastExecutedAt TIMESTAMP,\n  nextExecutionAt TIMESTAMP,\n  lastExecutionStatus ENUM('success', 'failed', 'partial'),\n  lastExecutionError TEXT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_workflowId (workflowId),\n  INDEX idx_userId (userId),\n  INDEX idx_isActive (isActive),\n  INDEX idx_nextExecutionAt (nextExecutionAt),\n  INDEX idx_scheduleType (scheduleType)\n);\n\nCREATE TABLE IF NOT EXISTS schedule_execution_history (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  scheduleId INT NOT NULL,\n  workflowId INT NOT NULL,\n  executionId INT,\n  scheduledFor TIMESTAMP NOT NULL,\n  actualExecutionTime TIMESTAMP NOT NULL,\n  status ENUM('success', 'failed', 'skipped', 'partial') NOT NULL,\n  targetUserCount INT DEFAULT 0 NOT NULL,\n  successfulCount INT DEFAULT 0 NOT NULL,\n  failedCount INT DEFAULT 0 NOT NULL,\n  duration INT,\n  errorMessage TEXT,\n  metadata JSON,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_scheduleId (scheduleId),\n  INDEX idx_workflowId (workflowId),\n  INDEX idx_scheduledFor (scheduledFor),\n  INDEX idx_status (status)\n);\n\nCREATE TABLE IF NOT EXISTS schedule_status_log (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  scheduleId INT NOT NULL,\n  action ENUM('created', 'activated', 'paused', 'resumed', 'deleted', 'completed') NOT NULL,\n  reason TEXT,\n  performedBy INT,\n  timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX idx_scheduleId (scheduleId),\n  INDEX idx_action (action)\n)",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2336
}